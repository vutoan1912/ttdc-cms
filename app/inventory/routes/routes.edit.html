<div id="page_content" ng-init="initFunction()">
    <form name="form_editRoute" id="form_editRoute"
          class="uk-form-stacked ng-pristine ng-invalid ng-invalid-required" novalidate="">
        <div id="page_heading" data-uk-sticky="{ top: 48, media: 960 }">
            <div class="heading_actions action-padding-top">
                <div data-uk-dropdown="{mode:'click'}">
                    <i class="md-icon material-icons">&#xE5D4;</i>
                    <div class="uk-dropdown uk-dropdown-small">
                        <ul class="uk-nav">
                            <li><a ng-click="deleteRouteById()" data-translate="route.headerPage.delete">Delete</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <a ui-sref="products" class="uk-text-large" data-translate="route.titlePage.home"></a>
            <span> / </span><a ui-sref="products" class="uk-text-large" data-translate="route.titlePage.configuration "></a>
            <span> / </span><a ui-sref="products" class="uk-text-large" data-translate="route.titlePage.warehouseMan "></a>
            <span> / </span><a ui-sref="warehouses" class="uk-text-large" data-translate="route.titlePage.warehouse"></a>
            <span> / </span><a ui-sref="routes" class="uk-text-large" data-translate="route.titlePage.route"></a>
            <span class="uk-text-large"> / {{routeModel.name}}</span>
            </br>
            <div class="btn-custom-action-group">
                <button ng-click="editRoute()" type="submit" class="md-btn md-btn-primary md-btn-small" id="editRoute" ng-disabled="!validateButton()">
                    <span class="uk-text-bold">{{button.save | translate}}</span>
                </button>
                <a ui-sref="routes-detail({routeId: routeModel.id })" class="md-btn  md-btn-default md-btn-small"><span class="uk-text-bold">{{button.cancel | translate}}</span></a>
            </div>
        </div>
        <div id="page_content_inner">
            <jhi-alert></jhi-alert>
            <div class="md-card" id="route_create">
                <div class="md-card-content">
                    <div class="uk-grid " data-uk-grid-margin>
                        <div class="uk-width-small-1-1 ">
                            <div  class="md-btn-group float-right">
                                <activate model="routeModel"
                                          activate-service="RouteService.activate"
                                          deactivate-service="RouteService.deactivate"
                                ></activate>
                            </div>
                        </div>
                    </div>

                    <!--NEW ROUTE NAME-->
                    <div class="uk-grid" style="margin-top: 0px !important;">
                        <div class="uk-width-small-1-2 uk-row-first">
                            <div class="parsley-row">
                                <div><label class="label-bold" for="sname" data-translate="route.detail.routeName"><span class="req">*</span></label>
                                    <!--<input  data-parsley-required-message={{required_msg}} ng-model="routeModel.name" id="sname" type="text" name="sname" data-parsley-trigger="change" required="" class="md-input ng-isolate-scope md-input-processed" md-input="">-->
                                    <input  data-parsley-required-message={{required_msg}}
                                            data-parsley-maxlength-message={{maxLengthRule|translate}}
                                            data-parsley-maxlength="255"
                                            data-parsley-trigger="change"
                                            required=""
                                            md-input=""
                                            ng-model="routeModel.name"
                                            id="sname" type="text" name="sname"
                                            class="md-input ng-isolate-scope md-input-processed">
                                    <span class="md-input-bar "></span></div>
                            </div>
                        </div>
                    </div>

                    <!--APPLICATION ON-->
                    <div class="uk-grid" data-uk-grid-margin>
                        <div class="uk-width-1">
                            <ul class="uk-tab" data-uk-tab="{connect:'#tabs_1'}">
                                <li class="uk-active"><a class="custom-tab" href="#" data-translate="route.detail.applicationOn"></a></li>
                            </ul>
                            <br>
                            <div class="uk-grid" data-uk-grid-margin="">
                                <div class="uk-width-small-1-2 uk-row-first">
                                    <p>
                                        <input type="checkbox" name="checkbox_demo_1" id="checkbox_demo_4" icheck ng-model="routeModel.warehouseEnabled" ng-change="selectedWarehouse()"/>
                                        <label for="checkbox_demo_4" class="inline-label" data-translate="route.detail.applicationOnWarehouses"></label>
                                    </p>
                                    <p ng-show="routeModel.warehouseEnabled">
                                        <selectize id="selec_adv_1" config="selectizeWarehousesConfig" options="selectizeOptions.warehouses2" position="bottom" ng-model="routeModel.warehousesId"></selectize>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!--PUSH RULES-->
                    <div class="uk-grid" data-uk-grid-margin>
                        <div class="uk-width-1">
                            <ul class="uk-tab">
                                <li class="uk-active"><a class="custom-tab" data-translate="route.detail.pushRules"></a></li>
                            </ul>
                            <br>
                            <div class="uk-overflow-container uk-margin-bottom"  id="table-container1">
                                <table class="uk-table uk-table-align-vertical uk-table-nowrap tablesorter tablesorter-altair" id="ts_pager_filter1">
                                    <thead>
                                    <tr>
                                        <th class="pointerMouse label-bold" data-translate="route.detail.pushRulesSourceLocation"></th>
                                        <th class="pointerMouse label-bold" data-translate="route.detail.pushRulesDestinationLocation"></th>
                                        <th class="pointerMouse label-bold" data-translate="route.detail.pushRulesOperationType"></th>
                                        <th class="pointerMouse label-bold" data-translate="route.detail.pushRulesOperationName"></th>
                                        <th class="pointerMouse label-bold" style="width: 10%"></th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="item in routeModel.pushRules">
                                        <td>{{item.srcLocation.completeName}}</td>
                                        <td>{{item.destLocation.completeName}}</td>
                                        <td>{{item.operationType.displayname}}</td>
                                        <td class="custom-long-text" title="{{item.name}}">{{item.name}}</td>
                                        <td>
                                            <a ng-click=editPushRuleInTable($index) data-uk-modal="{target:'#modal_update_push_rule'}"><i class="md-icon material-icons">&#xE150;</i></a>
                                            <a ng-click=removePushRuleInTable($index)><i class="md-icon material-icons">&#xE872;</i></a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="1"><a data-uk-modal="{target:'#modal_new_push_rule'}" data-translate="route.detail.addAnItem"></a></td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!--PROCUREMENT RULES-->
                    <div class="uk-grid" data-uk-grid-margin>
                        <div class="uk-width-1">
                            <ul class="uk-tab">
                                <li class="uk-active"><a class="custom-tab" data-translate="route.detail.procurementRules"></a></li>
                            </ul>
                            <br>
                            <div class="uk-overflow-container uk-margin-bottom"  id="table-container2">
                                <table class="uk-table uk-table-align-vertical uk-table-nowrap tablesorter tablesorter-altair" id="ts_pager_filter2">
                                    <thead>
                                    <tr>
                                        <th class="pointerMouse label-bold" data-translate="route.procurementRule.name"></th>
                                        <th class="pointerMouse label-bold" data-translate="route.procurementRule.action"></th>
                                        <th class="pointerMouse label-bold" data-translate="route.procurementRule.operationType"></th>
                                        <th class="pointerMouse label-bold" style="width: 10%"></th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="item in routeModel.procurementRules">
                                        <td class="custom-long-text" title="{{item.name}}">{{item.name}}</td>
                                        <td>{{item.action.name}}</td>
                                        <td>{{item.operationType.displayName}}</td>
                                        <td>
                                            <a ng-click=editProcurementRuleInTable($index) data-uk-modal="{target:'#modal_update_procurement_rule'}"><i class="md-icon material-icons">&#xE150;</i></a>
                                            <a ng-click=removeProcurementRuleInTable($index)><i class="md-icon material-icons">&#xE872;</i></a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="1"><a data-uk-modal="{target:'#modal_new_procurement_rule'}" data-translate="route.detail.addAnItem"></a></td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>

<!--CREATE PUSH RULES-->
<div class="uk-modal" id="modal_new_push_rule">
    <div class="uk-modal-dialog uk-modal-dialog-large">
        <a class="uk-modal-close uk-close"></a>
        <h2 data-translate="route.pushRule.createPushRule"></h2>
        <hr>

        <form name="form_createPushRule" id="form_createPushRule"
              class="uk-form-stacked ng-pristine ng-invalid ng-invalid-required" novalidate="">
            <div style="margin-bottom: 25px; !important;">
                <div class="uk-grid" data-uk-grid-margin>
                    <div class="uk-width-1-2 uk-row-first">
                        <div class="parsley-row">
                            <div><label class="label-bold" for="pushRuleName" data-translate="route.pushRule.operationName"><span class="req">*</span></label>
                                <input  data-parsley-required-message={{required_msg}}
                                        data-parsley-maxlength-message={{maxLengthRule|translate}}
                                        data-parsley-maxlength="255"
                                        data-parsley-trigger="change"
                                        required=""
                                        md-input=""
                                        ng-model="newPushRule.name"
                                        id="pushRuleName" type="text" name="pushRuleName"
                                        class="md-input ng-isolate-scope md-input-processed">
                                <span class="md-input-bar "></span></div>
                        </div>
                    </div>
                </div>
                <div class="uk-grid" data-uk-grid-margin="" style="margin-bottom: -25px">
                    <div class="uk-width-large-1-2">
                        <div class="uk-form-row">
                            <label class="uk-form-label label-bold" data-translate="route.pushRule.locations"></label>
                        </div>
                    </div>
                    <div class="uk-width-large-1-2">
                        <div class="uk-form-row">
                            <label class="uk-form-label label-bold" data-translate="route.pushRule.details"></label>
                        </div>
                    </div>
                </div>
                <div class="uk-grid" data-uk-grid-margin="">
                    <div class="uk-width-large-1-2">
                        <div class="parsley-row">
                            <div><label class="label-bold" data-translate="route.pushRule.sourceLocation"><span class="req">*</span></label>
                                <input
                                        ng-required="true"
                                        config="cbxSrcLocations.Config"
                                        options="cbxSrcLocations.Options"
                                        position="bottom"
                                        ng-model="newPushRule.srcLocation"
                                        scope-controller="cbxSrcLocations.Scope"
                                        total-count="cbxSrcLocationsInit.totalCount"
                                        page="cbxSrcLocationsInit.page"
                                        per-page="cbxSrcLocationsInit.perPage"
                                        query-relate="cbxSrcLocationsInit.queryRelate"
                                        reset-scroll="cbxSrcLocationsInit.resetScroll" selectize/>
                                <span class="md-input-bar "></span></div>
                        </div>
                    </div>
                    <div class="uk-width-large-1-2">
                        <div class="parsley-row">
                            <div><label class="label-bold" for="automaticMove" data-translate="route.pushRule.automaticMove"><span class="req">*</span></label>
                                <input config="selectize_config"
                                       id="automaticMove"
                                       options="listOptionsAutomatic"
                                       position="bottom"
                                       ng-model="newPushRule.automaticMove" required="" selectize/>
                                <span class="md-input-bar "></span></div>
                        </div>
                    </div>
                </div>
                <div class="uk-grid" data-uk-grid-margin="">
                    <div class="uk-width-large-1-2">
                        <div class="parsley-row">
                            <div><label class="label-bold" data-translate="route.pushRule.destinationLocation"><span class="req">*</span></label>
                                <input
                                    ng-required="true"
                                    config="cbxDestLocations.Config"
                                    options="cbxDestLocations.Options"
                                    position="bottom"
                                    ng-model="newPushRule.destLocation"
                                    scope-controller="cbxDestLocations.Scope"
                                    total-count="cbxDestLocationsInit.totalCount"
                                    page="cbxDestLocationsInit.page"
                                    per-page="cbxDestLocationsInit.perPage"
                                    query-relate="cbxDestLocationsInit.queryRelate"
                                    reset-scroll="cbxDestLocations.resetScroll" selectize/>
                                <span class="md-input-bar "></span></div>
                        </div>
                    </div>
                    <div class="uk-width-large-1-2">
                        <div class="parsley-row">
                            <div><label class="label-bold" data-translate="route.pushRule.operationType"><span class="req">*</span></label>
                                <input
                                    ng-required="true"
                                    config="cbxOps.Config"
                                    options="cbxOps.Options"
                                    position="bottom"
                                    ng-model="newPushRule.operationType"
                                    scope-controller="cbxOps.Scope"
                                    total-count="cbxOpsInit.totalCount"
                                    page="cbxOpsInit.page"
                                    per-page="cbxOpsInit.perPage"
                                    query-relate="cbxOpsInit.queryRelate"
                                    reset-scroll="cbxOps.resetScroll" selectize/>
                                <span class="md-input-bar "></span></div>
                        </div>
                    </div>
                </div>
                <div class="btn-custom-action-group" style="margin-top: 35px; margin-bottom: -45px">
                    <button ng-click="addPushRule(1)" type="submit" class="md-btn md-btn-primary md-btn-small"><span class="uk-text-bold" data-translate="route.pushRule.saveAndClose"></span></button>
                    <button ng-click="addPushRule(2)" type="submit" class="md-btn md-btn-primary md-btn-small"><span class="uk-text-bold" data-translate="route.pushRule.saveAndNew"></span></button>
                    <a class="uk-modal-close md-btn  md-btn-default md-btn-small"><span class="uk-text-bold">{{button.cancel | translate}}</span></a>
                </div>
            </div>
        </form>
    </div>
</div>

<!--UPDATE PUSH RULES-->
<div class="uk-modal" id="modal_update_push_rule">
    <div class="uk-modal-dialog uk-modal-dialog-large">
        <a class="uk-modal-close uk-close"></a>
        <h2 data-translate="route.pushRule.updatePushRule"></h2>
        <hr>

        <form name="form_updatePushRule" id="form_updatePushRule"
              class="uk-form-stacked ng-pristine ng-invalid ng-invalid-required" novalidate="">
            <div style="margin-bottom: 25px; !important;">
                <div class="uk-grid" data-uk-grid-margin>
                    <div class="uk-width-1-2 uk-row-first">
                        <div class="parsley-row">
                            <div><label class="label-bold" for="pushRuleName1" data-translate="route.pushRule.operationName"><span class="req">*</span></label>
                                <input  data-parsley-required-message={{required_msg}}
                                        data-parsley-maxlength-message={{maxLengthRule|translate}}
                                        data-parsley-maxlength="255"
                                        data-parsley-trigger="change"
                                        required=""
                                        md-input=""
                                        ng-model="editPushRule.name"
                                        id="pushRuleName1" type="text" name="pushRuleName1"
                                        class="md-input ng-isolate-scope md-input-processed">
                                <span class="md-input-bar "></span></div>
                        </div>
                    </div>
                    <div class="uk-width-small-1-2" ng-show="editPushRule.hasOwnProperty('active')">
                        <div  class="md-btn-group float-right">
                            <activate model="editPushRule"
                                      activate-service="PushRuleService.activate"
                                      deactivate-service="PushRuleService.deactivate"
                            ></activate>
                        </div>
                    </div>
                </div>
                <div class="uk-grid" data-uk-grid-margin="" style="margin-bottom: -25px">
                    <div class="uk-width-large-1-2">
                        <div class="uk-form-row">
                            <label class="uk-form-label label-bold" data-translate="route.pushRule.locations"></label>
                        </div>
                    </div>
                    <div class="uk-width-large-1-2">
                        <div class="uk-form-row">
                            <label class="uk-form-label label-bold" data-translate="route.pushRule.details"></label>
                        </div>
                    </div>
                </div>
                <div class="uk-grid" data-uk-grid-margin="">
                    <div class="uk-width-large-1-2">
                        <div class="parsley-row">
                            <div><label class="label-bold" data-translate="route.pushRule.sourceLocation"><span class="req">*</span></label>
                                <!--<selectize
                                        config="selectize_config"
                                        options="selectizeOptions.warehouses"
                                        position="bottom" ng-model="editPushRule.srcLocationId"
                                        required=""></selectize>-->
                                <input
                                    ng-required="true"
                                    config="cbxSrcLocations.Config"
                                    options="cbxSrcLocations.Options"
                                    position="bottom"
                                    ng-model="editPushRule.srcLocationId"
                                    scope-controller="cbxSrcLocations.Scope"
                                    total-count="cbxSrcLocationsInit.totalCount"
                                    page="cbxSrcLocationsInit.page"
                                    per-page="cbxSrcLocationsInit.perPage"
                                    query-relate="cbxSrcLocationsInit.queryRelate"
                                    reset-scroll="cbxSrcLocationsInit.resetScroll" selectize/>

                                <span class="md-input-bar "></span></div>
                        </div>
                    </div>
                    <div class="uk-width-large-1-2">
                        <div class="parsley-row">
                            <div><label class="label-bold" for="automaticMove1" data-translate="route.pushRule.automaticMove"><span class="req">*</span></label>
                                <selectize config="selectize_config" id="automaticMove1" options="listOptionsAutomatic" position="bottom" ng-model="editPushRule.automaticMove" required=""></selectize>
                                <span class="md-input-bar "></span></div>
                        </div>
                    </div>
                </div>
                <div class="uk-grid" data-uk-grid-margin="">
                    <div class="uk-width-large-1-2">
                        <div class="parsley-row">
                            <div><label class="label-bold" data-translate="route.pushRule.destinationLocation"><span class="req">*</span></label>
                                <!--<selectize config="selectize_config"
                                           options="selectizeOptions.warehouses"
                                           position="bottom" ng-model="editPushRule.destLocationId"
                                           required=""></selectize>-->
                                <input
                                        ng-required="true"
                                        config="cbxDestLocations.Config"
                                        options="cbxDestLocations.Options"
                                        position="bottom"
                                        ng-model="editPushRule.destLocationId"
                                        scope-controller="cbxDestLocations.Scope"
                                        total-count="cbxDestLocationsInit.totalCount"
                                        page="cbxDestLocationsInit.page"
                                        per-page="cbxDestLocationsInit.perPage"
                                        query-relate="cbxDestLocationsInit.queryRelate"
                                        reset-scroll="cbxDestLocations.resetScroll" selectize/>
                                <span class="md-input-bar "></span></div>
                        </div>
                    </div>
                    <div class="uk-width-large-1-2">
                        <div class="parsley-row">
                            <div><label class="label-bold" data-translate="route.pushRule.operationType"><span class="req">*</span></label>
                                <!--<selectize config="selectize_config"
                                           options="selectize_ot_options"
                                           position="bottom"
                                           ng-model="editPushRule.operationTypeId" required=""></selectize>-->
                                <input
                                        ng-required="true"
                                        config="cbxOps.Config"
                                        options="cbxOps.Options"
                                        position="bottom"
                                        ng-model="editPushRule.operationTypeId"
                                        scope-controller="cbxOps.Scope"
                                        total-count="cbxOpsInit.totalCount"
                                        page="cbxOpsInit.page"
                                        per-page="cbxOpsInit.perPage"
                                        query-relate="cbxOpsInit.queryRelate"
                                        reset-scroll="cbxOps.resetScroll" selectize/>
                                <span class="md-input-bar "></span></div>
                        </div>
                    </div>
                </div>
                <div class="btn-custom-action-group" style="margin-top: 35px; margin-bottom: -45px">
                    <button ng-click="updatePushRule()" type="submit" class="md-btn md-btn-primary md-btn-small"><span class="uk-text-bold"></span>{{button.save | translate}}</button>
                    <a class="uk-modal-close md-btn  md-btn-default md-btn-small"><span class="uk-text-bold">{{button.cancel | translate}}</span></a>
                </div>
            </div>
        </form>
    </div>
</div>

<!--CREATE PROCUREMENT RULES-->
<div class="uk-modal" id="modal_new_procurement_rule">
    <div class="uk-modal-dialog uk-modal-dialog-large">
        <a class="uk-modal-close uk-close"></a>
        <h2 data-translate="route.procurementRule.createProcurementRule"></h2>
        <hr>

        <form name="form_createProcurementRule" id="form_createProcurementRule"
              class="uk-form-stacked ng-pristine ng-invalid ng-invalid-required" novalidate="">
            <div style="margin-bottom: 25px; !important;">
                <div class="uk-grid" data-uk-grid-margin>
                    <div class="uk-width-1-2 uk-row-first">
                        <div class="parsley-row">
                            <div><label class="label-bold" for="pushRuleName" data-translate="route.procurementRule.name"><span class="req">*</span></label>
                                <input  data-parsley-required-message={{required_msg}} ng-model="newProcurementRule.name" type="text" name="pushRuleName" data-parsley-trigger="change" required="" class="md-input ng-isolate-scope md-input-processed" md-input="">
                                <span class="md-input-bar "></span></div>
                        </div>
                    </div>
                </div>
                <div class="uk-grid" data-uk-grid-margin="">
                    <div class="uk-width-large-1-2">
                        <div class="parsley-row">
                            <div><label class="label-bold" data-translate="route.procurementRule.action"><span class="req">*</span></label>
                                <input
                                        config="{valueField: 'id',labelField: 'name', create:false, maxItems: 1}"
                                        options="listAction" ng-model="newProcurementRule.action"
                                        ng-required="true"
                                        name="sourceLocation" selectize />
                                <span class="md-input-bar "></span></div>
                        </div>
                    </div>
                </div>
                <div class="uk-grid" data-uk-grid-margin="" style="margin-bottom: -25px">
                    <div class="uk-width-large-1-2">
                        <div class="uk-form-row">
                            <label class="uk-form-label label-bold" data-translate="route.procurementRule.applicationOn"></label>
                        </div>
                    </div>
                    <div class="uk-width-large-1-2">
                        <div class="uk-form-row">
                            <label class="uk-form-label label-bold" data-translate="route.procurementRule.create"></label>
                        </div>
                    </div>
                </div>
                <div class="uk-grid" data-uk-grid-margin="">
                    <div class="uk-width-large-1-2">
                        <div class="parsley-row">
                            <div><label class="label-bold" data-translate="route.procurementRule.procurementLocation"><span class="req">*</span></label>
                                <input
                                    ng-required="false"
                                    config="cbxProcureLocations.Config"
                                    options="cbxProcureLocations.Options"
                                    position="bottom"
                                    ng-model="newProcurementRule.procurementLocation"
                                    scope-controller="cbxProcureLocations.Scope"
                                    total-count="cbxProcureLocationsInit.totalCount"
                                    page="cbxProcureLocationsInit.page"
                                    per-page="cbxProcureLocationsInit.perPage"
                                    query-relate="cbxProcureLocationsInit.queryRelate"
                                    reset-scroll="cbxProcureLocations.resetScroll" selectize/>
                                <span class="md-input-bar "></span></div>
                        </div>
                    </div>
                    <div class="uk-width-large-1-2">
                        <div class="parsley-row">
                            <div><label class="label-bold" data-translate="route.pushRule.operationType"><span class="req">*</span></label>
                                <input
                                        ng-required="newProcurementRule.action==0"
                                        config="cbxOps2.Config"
                                        options="cbxOps2.Options"
                                        position="bottom"
                                        ng-model="newProcurementRule.operationType"
                                        scope-controller="cbxOps2.Scope"
                                        total-count="cbxOps2Init.totalCount"
                                        page="cbxOps2Init.page"
                                        per-page="cbxOps2Init.perPage"
                                        query-relate="cbxOps2Init.queryRelate"
                                        reset-scroll="cbxOps2.resetScroll" selectize/>
                                <span class="md-input-bar "></span></div>
                        </div>
                    </div>
                </div>
                <div class="uk-grid" data-uk-grid-margin="" ng-show="newProcurementRule.action==0||newProcurementRule.action==1">
                    <div class="uk-width-large-1-2">
                        <label class="label-bold"></label>
                    </div>
                    <div class="uk-width-large-1-2">
                        <div class="parsley-row">
                            <div><label class="label-bold" data-translate="route.procurementRule.sourceLocation"><span class="req">*</span></label>
                                <input
                                    ng-required="newProcurementRule.action==0"
                                    config="cbxSrc2Locations.Config"
                                    options="cbxSrc2Locations.Options"
                                    position="bottom"
                                    ng-model="newProcurementRule.sourceLocation"
                                    scope-controller="cbxSrc2Locations.Scope"
                                    total-count="cbxSrc2LocationsInit.totalCount"
                                    page="cbxSrc2LocationsInit.page"
                                    per-page="cbxSrc2LocationsInit.perPage"
                                    query-relate="cbxSrc2LocationsInit.queryRelate"
                                    reset-scroll="cbxSrc2Locations.resetScroll" selectize/>
                                <span class="md-input-bar "></span></div>
                        </div>
                    </div>
                </div>
                <div class="uk-grid" data-uk-grid-margin="" ng-show="newProcurementRule.action==0">
                    <div class="uk-width-large-1-2">
                        <label class="label-bold"></label>
                    </div>
                    <div class="uk-width-large-1-2">
                        <div class="parsley-row">
                            <div><label class="label-bold" data-translate="route.procurementRule.moveSupplyMethod"><span class="req">*</span></label>
                                <input
                                    id="moveSupplyMethod"
                                    config="selectize_config"
                                    options="listMoveSupplyMethod"
                                    position="bottom"
                                    ng-required="newProcurementRule.action==0"
                                    ng-model="newProcurementRule.moveSupplyMethodId" selectize/>
                                <span class="md-input-bar "></span></div>
                        </div>
                    </div>
                </div>
                <div class="btn-custom-action-group" style="margin-top: 35px; margin-bottom: -45px">
                    <button ng-click="addProcurementRule(1)" type="submit" class="md-btn md-btn-primary md-btn-small"><span class="uk-text-bold" data-translate="route.pushRule.saveAndClose"></span></button>
                    <button ng-click="addProcurementRule(2)" type="submit" class="md-btn md-btn-primary md-btn-small"><span class="uk-text-bold" data-translate="route.pushRule.saveAndNew"></span></button>
                    <a class="uk-modal-close md-btn  md-btn-default md-btn-small"><span class="uk-text-bold">{{button.cancel | translate}}</span></a>
                </div>
            </div>
        </form>
    </div>
</div>

<!--UPDATE PROCUREMENT RULES-->
<div class="uk-modal" id="modal_update_procurement_rule">
    <div class="uk-modal-dialog uk-modal-dialog-large">
        <a class="uk-modal-close uk-close"></a>
        <h2 data-translate="route.procurementRule.updateProcurementRule"></h2>
        <hr>

        <form name="form_updateProcurementRule" id="form_updateProcurementRule"
              class="uk-form-stacked ng-pristine ng-invalid ng-invalid-required" novalidate="">
            <div style="margin-bottom: 25px; !important;">
                <div class="uk-grid" data-uk-grid-margin>
                    <div class="uk-width-1-2 uk-row-first">
                        <div class="parsley-row">
                            <div><label class="label-bold" for="procurementRuleName" data-translate="route.procurementRule.name"><span class="req">*</span></label>
                                <input  data-parsley-required-message={{required_msg}}
                                        data-parsley-maxlength-message={{maxLengthRule|translate}}
                                        data-parsley-maxlength="255"
                                        data-parsley-trigger="change"
                                        ng-required="true"
                                        md-input=""
                                        ng-model="editProcurementRule.name"
                                        id="procurementRuleName" type="text" name="procurementRuleName"
                                        class="md-input ng-isolate-scope md-input-processed">
                                <span class="md-input-bar "></span></div>
                        </div>
                    </div>
                    <div class="uk-width-small-1-2" ng-show="editProcurementRule.hasOwnProperty('active')">
                        <div  class="md-btn-group float-right">
                            <activate model="editProcurementRule"
                                      activate-service="ProcurementRuleService.activate"
                                      deactivate-service="ProcurementRuleService.deactivate"
                            ></activate>
                        </div>
                    </div>
                </div>
                <div class="uk-grid" data-uk-grid-margin="">
                    <div class="uk-width-large-1-2">
                        <div class="parsley-row">
                            <div><label class="label-bold" data-translate="route.procurementRule.action"><span class="req">*</span></label>
                                <input config="{valueField: 'id',labelField: 'name', create:false, maxItems: 1}"
                                       options="listAction"
                                       ng-model="editProcurementRule.actionId"
                                       ng-required="true"
                                       name="sourceLocation" selectize />
                                <span class="md-input-bar "></span></div>
                        </div>
                    </div>
                </div>
                <div class="uk-grid" data-uk-grid-margin="" style="margin-bottom: -25px">
                    <div class="uk-width-large-1-2">
                        <div class="uk-form-row">
                            <label class="uk-form-label label-bold" data-translate="route.procurementRule.applicationOn"></label>
                        </div>
                    </div>
                    <div class="uk-width-large-1-2">
                        <div class="uk-form-row">
                            <label class="uk-form-label label-bold" data-translate="route.procurementRule.create"></label>
                        </div>
                    </div>
                </div>
                <div class="uk-grid" data-uk-grid-margin="">
                    <div class="uk-width-large-1-2">
                        <div class="parsley-row">
                            <div><label class="label-bold" data-translate="route.procurementRule.procurementLocation"><span class="req">*</span></label>
                                <input
                                    ng-required="false"
                                    config="cbxProcureLocations.Config"
                                    options="cbxProcureLocations.Options"
                                    position="bottom"
                                    ng-model="editProcurementRule.procurementLocationId"
                                    scope-controller="cbxProcureLocations.Scope"
                                    total-count="cbxProcureLocationsInit.totalCount"
                                    page="cbxProcureLocationsInit.page"
                                    per-page="cbxProcureLocationsInit.perPage"
                                    query-relate="cbxProcureLocationsInit.queryRelate"
                                    reset-scroll="cbxProcureLocations.resetScroll" selectize/>
                                <!--<input
                                    ng-required="true"
                                    config="selectize_config"
                                    options="selectizeOptions.warehouses"
                                    position="bottom"
                                    ng-model="editProcurementRule.procurementLocationId" selectize/>-->
                                <span class="md-input-bar "></span></div>
                        </div>
                    </div>
                    <div class="uk-width-large-1-2">
                        <div class="parsley-row">
                            <div><label class="label-bold" data-translate="route.pushRule.operationType"><span class="req">*</span></label>
                                <!--<input
                                    ng-required="editProcurementRule.actionId==0"
                                    config="selectize_config"
                                    options="selectize_ot_options" position="bottom"
                                    ng-model="editProcurementRule.operationTypeId" selectize/>-->
                                <input
                                    ng-required="editProcurementRule.actionId==0"
                                    config="cbxOps2.Config"
                                    options="cbxOps2.Options"
                                    position="bottom"
                                    ng-model="editProcurementRule.operationTypeId"
                                    scope-controller="cbxOps2.Scope"
                                    total-count="cbxOps2Init.totalCount"
                                    page="cbxOps2Init.page"
                                    per-page="cbxOps2Init.perPage"
                                    query-relate="cbxOps2Init.queryRelate"
                                    reset-scroll="cbxOps2.resetScroll" selectize/>
                                <span class="md-input-bar "></span></div>
                        </div>
                    </div>
                </div>
                <div class="uk-grid" data-uk-grid-margin="">
                    <div class="uk-width-large-1-2">
                        <label class="label-bold"></label>
                    </div>
                    <div class="uk-width-large-1-2">
                        <div class="parsley-row">
                            <div><label class="label-bold" data-translate="route.procurementRule.sourceLocation"><span class="req">*</span></label>
                                <!--<input
                                    config="selectize_config"
                                    options="selectizeOptions.warehouses"
                                    position="bottom"
                                    ng-required="editProcurementRule.actionId==0"
                                    ng-model="editProcurementRule.sourceLocationId" selectize/>-->
                                <input
                                    ng-required="editProcurementRule.actionId==0"
                                    config="cbxSrc2Locations.Config"
                                    options="cbxSrc2Locations.Options"
                                    position="bottom"
                                    ng-model="editProcurementRule.sourceLocationId"
                                    scope-controller="cbxSrc2Locations.Scope"
                                    total-count="cbxSrc2LocationsInit.totalCount"
                                    page="cbxSrc2LocationsInit.page"
                                    per-page="cbxSrc2LocationsInit.perPage"
                                    query-relate="cbxSrc2LocationsInit.queryRelate"
                                    reset-scroll="cbxSrc2Locations.resetScroll" selectize/>
                                <span class="md-input-bar "></span></div>
                        </div>
                    </div>
                </div>
                <div class="uk-grid" data-uk-grid-margin="" ng-show="editProcurementRule.actionId==0">
                    <div class="uk-width-large-1-2">
                        <label class="label-bold"></label>
                    </div>
                    <div class="uk-width-large-1-2">
                        <div class="parsley-row">
                            <div><label class="label-bold" data-translate="route.procurementRule.moveSupplyMethod"><span class="req">*</span></label>
                                <input
                                    config="selectize_config"
                                    options="listMoveSupplyMethod"
                                    position="bottom"
                                    ng-required="editProcurementRule.actionId==0"
                                    ng-model="editProcurementRule.moveSupplyMethodId"selectize/>
                                <span class="md-input-bar "></span></div>
                        </div>
                    </div>
                </div>
                <div class="btn-custom-action-group" style="margin-top: 35px; margin-bottom: -45px">
                    <button ng-click="updateProcurementRule()" type="submit" class="md-btn md-btn-primary md-btn-small"><span class="uk-text-bold"></span>{{button.save | translate}}</button>
                    <a class="uk-modal-close md-btn  md-btn-default md-btn-small"><span class="uk-text-bold">{{button.cancel | translate}}</span></a>
                </div>
            </div>
        </form>
    </div>
</div>
