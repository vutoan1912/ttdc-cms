<div ui-view>
    <div id="page_content">
        <div id="page_heading" data-uk-sticky="{ top: 30, media: 960 }" class="custom-heading">
            <div class="heading_actions action-padding-top">
                <div class="uk-button-dropdown " data-uk-dropdown="{mode:'click'}">
                    <button class="md-btn md-btn-small custom-btn-type">Columns <i class="uk-icon-caret-down"></i></button>
                    <div class="uk-dropdown">
                        <label class="container-checkbox">All
                            <input ng-model="checkColumnAll" type="checkbox" checked="checked" ng-change="handleColumn()">
                            <span class="checkmark"></span>
                        </label>

                        <ul class="uk-nav uk-nav-dropdown" ng-repeat="c in myColumns">
                            <li class="checkbox-padding-left">
                                <label ng-class="checkboxType">{{c}}
                                    <input ng-model=myColumnsShow[$index] type="checkbox" checked="checked" ng-change="checkColumn()">
                                    <span class="checkmark"></span>
                                </label></li>
                        </ul>
                    </div>
                </div>
            </div>
            <span ng-show="isProductLink" class=" route-header"><a  ui-sref="products" data-translate="masterdata.common.Product"></a>
                <span> / </span><a ui-sref="products-detail({productId: product.id })">{{product.name}}</a>
                <span> / </span><span data-translate="masterdata.common.stockOnHand"></span>
            </span>
            <span ng-show="isLocationLink" class=" route-header"><a  ui-sref="products" data-translate="masterdata.column.location"></a>
                <span> / </span><a ui-sref="locations.detail({id: location.id})">{{location.completeName}}</a>
                <span> / </span><span data-translate="masterdata.common.stockOnHand"></span>
            </span>
            </br>
            <!-- -->

        </div>
        <div id="page_content_inner">
            <jhi-alert></jhi-alert>
            <div class="md-card" id="ot_list">
                <div class="md-card-content ">
                    <div class="uk-overflow-container uk-margin-bottom" ng-style="fullsize" id="table_content">
                        <table class=" hoverTable uk-table-striped uk-table uk-table-align-vertical  tablesorter tablesorter-altair"
                                           id="table_ot" >
                                        <thead>
                                        <tr>
                                            <th  data-name="Select" data-priority="5"><input type="checkbox" class="ts_checkbox_all"></th>
                                            <th  ng-show="myColumnsShow[0]" class="pointerMouse label-bold" style="width: 10% " ng-click="handleSort($event, 1, 'table_ot')" data-priority="1"><span data-translate="masterdata.common.Product"></span><i class="material-icons md-20 rightCell">{{TABLES['table_ot'].param_sort_list[1]}}</i></th>
                                            <th  ng-show="myColumnsShow[1]" class="pointerMouse label-bold" style="min-width: 150px " ng-click="handleSort($event, 2, 'table_ot')" data-priority="1"><span>VNPT ManPN</span><i class="material-icons md-20 rightCell">{{TABLES['table_ot'].param_sort_list[2]}}</i></th>
                                            <th  ng-show="myColumnsShow[2]" class="pointerMouse label-bold" style="min-width: 100px " ng-click="handleSort($event, 3, 'table_ot')" data-priority="1"><span>Man P/N</span><i class="material-icons md-20 rightCell">{{TABLES['table_ot'].param_sort_list[3]}}</i></th>
                                            <th  ng-show="myColumnsShow[3]" class="pointerMouse label-bold" style="min-width: 150px" ng-click="handleSort($event, 4, 'table_ot')" data-priority="1"><span data-translate="masterdata.column.location"></span><i class="material-icons md-20 rightCell">{{TABLES['table_ot'].param_sort_list[4]}}</i></th>
                                            <th  ng-show="myColumnsShow[4]" class="pointerMouse label-bold" style="min-width: 150px" ng-click="handleSort($event, 5, 'table_ot')" data-priority="1"><span data-translate="transfer.detail.detail-operation-column.LotSerial"></span><i class="material-icons md-20 rightCell">{{TABLES['table_ot'].param_sort_list[5]}}</i></th>
                                            <th  ng-show="myColumnsShow[5]" class="pointerMouse label-bold" style=" width: 12%" ng-click="handleSort($event, 6, 'table_ot')" data-priority="1"><span data-translate="masterdata.common.Package"></span><i class="material-icons md-20 rightCell">{{TABLES['table_ot'].param_sort_list[6]}}</i></th>
                                            <th  ng-show="myColumnsShow[6]" class="pointerMouse label-bold" style="min-width: 100px" ng-click="handleSort($event, 7, 'table_ot')" data-priority="1"><span data-translate="transfer.detail.detail-operation-column.Reserved"></span><i class="material-icons md-20 rightCell">{{TABLES['table_ot'].param_sort_list[7]}}</i></th>
                                            <th  ng-show="myColumnsShow[7]" class="pointerMouse label-bold" style="min-width: 100px" ng-click="handleSort($event, 8, 'table_ot')" data-priority="1"><span data-translate="transfer.column.onhand"></span><i class="material-icons md-20 rightCell">{{TABLES['table_ot'].param_sort_list[8]}}</i></th>
                                            <th  ng-show="myColumnsShow[8]" class="pointerMouse label-bold" style="min-width: 60px;" ng-click="handleSort($event, 9, 'table_ot')" data-priority="1"><span data-translate="transfer.detail.detail-operation-column.UOM"></span><i class="material-icons md-20 rightCell">{{TABLES['table_ot'].param_sort_list[9]}}</i></th>

                                            <th  ng-show="myColumnsShow[9]"  class="pointerMouse label-bold  custom-cl-header-large"   ng-click="handleSort($event, 10, 'table_ot')" data-priority="4" data-translate="inventory.column.created"><i class="material-icons md-20 rightCell">{{TABLES['table_ot'].param_sort_list[10]}}</i></th>
                                            <th  ng-show="myColumnsShow[10]" class="pointerMouse label-bold  custom-cl-header-large"   ng-click="handleSort($event, 11, 'table_ot')" data-priority="5" data-translate="inventory.column.createdby"><i class="material-icons md-20 rightCell">{{TABLES['table_ot'].param_sort_list[11]}}</i></th>
                                            <th  ng-show="myColumnsShow[11]" class="pointerMouse label-bold  custom-cl-header-large"   ng-click="handleSort($event, 12, 'table_ot')" data-priority="6" data-translate="inventory.column.updated"><i class="material-icons md-20 rightCell">{{TABLES['table_ot'].param_sort_list[12]}}</i></th>
                                            <th  ng-show="myColumnsShow[12]" class="pointerMouse label-bold  custom-cl-header-large"   ng-click="handleSort($event, 13, 'table_ot')" data-priority="7" data-translate="inventory.column.updatedby"><i class="material-icons md-20 rightCell">{{TABLES['table_ot'].param_sort_list[13]}}</i></th>
                                            <!--<th  ng-show="myColumnsShow[7]" class="pointerMouse label-bold" style="width: 15%"   ng-click="handleSort($event, 8, 'table_ot')" data-priority="8">{{columnsName.active|translate}}<i class="material-icons md-20 rightCell">{{TABLES['table_ot'].param_sort_list[13]}}</i></th>-->

                                        </tr>
                                        <tr>
                                            <td></td>

                                            <td ng-show="myColumnsShow[0]" style="white-space: nowrap !important;">
                                                <div style="height: 38px;">
                                                    <selectize id="cbx_product"
                                                               config="CbxProduct.Config"
                                                               options="CbxProduct.Options"
                                                               position="bottom"
                                                               ng-model="CbxProduct.ngModel"
                                                               table="CbxProduct.Table"
                                                               column="CbxProduct.Column"
                                                               scope-controller="CbxProduct.Scope">
                                                    </selectize>
                                                </div>
                                            </td>
                                            <td ng-show="myColumnsShow[1]" style="white-space: nowrap !important;">
                                                <div style="height: 38px;">
                                                    <selectize id="cbx_vnpt"
                                                               config="CbxVNPT.Config"
                                                               options="CbxVNPT.Options"
                                                               position="bottom"
                                                               ng-model="CbxVNPT.ngModel"
                                                               table="CbxVNPT.Table"
                                                               column="CbxVNPT.Column"
                                                               scope-controller="CbxVNPT.Scope">
                                                    </selectize>
                                                </div>
                                            </td>

                                            <td ng-show="myColumnsShow[2]" style="white-space: nowrap !important;"><input placeholder="UoM..." class="filter-table-cell" ng-model="TABLES['table_ot'].param_filter_list[3]" ng-change="handleFilter('table_ot')" type="search" placeholder="" data-column="3" style="height: 38px;"></td>

                                            <td ng-show="myColumnsShow[3]" style="white-space: nowrap !important;">
                                                <div style="height: 38px;">
                                                    <selectize id="cbx_from"
                                                               config="CbxFrom.Config"
                                                               options="CbxFrom.Options"
                                                               position="bottom"
                                                               ng-model="CbxFrom.ngModel"
                                                               table="CbxFrom.Table"
                                                               column="CbxFrom.Column"
                                                               scope-controller="CbxFrom.Scope">
                                                    </selectize>
                                                </div>
                                            </td>
                                            <td ng-show="myColumnsShow[4]" style="white-space: nowrap !important;">
                                                <div style="height: 38px;">
                                                    <selectize id="cbx_lot"
                                                               config="CbxLot.Config"
                                                               options="CbxLot.Options"
                                                               position="bottom"
                                                               ng-model="CbxLot.ngModel"
                                                               table="CbxLot.Table"
                                                               column="CbxLot.Column"
                                                               scope-controller="CbxLot.Scope">
                                                    </selectize>
                                                </div>
                                            </td>

                                            <td ng-show="myColumnsShow[5]" style="white-space: nowrap !important;">
                                                <div style="height: 38px;">
                                                    <selectize id="cbx_package"
                                                               config="CbxPackage.Config"
                                                               options="CbxPackage.Options"
                                                               position="bottom"
                                                               ng-model="CbxPackage.ngModel"
                                                               table="CbxPackage.Table"
                                                               column="CbxPackage.Column"
                                                               scope-controller="CbxPackage.Scope">
                                                    </selectize>
                                                </div>
                                            </td>

                                            <td ng-show="myColumnsShow[6]" style="white-space: nowrap !important;"><input placeholder="Reserved..." class="filter-table-cell" ng-model="TABLES['table_ot'].param_filter_list[5]" ng-change="handleFilter('table_ot')" type="search" placeholder="" data-column="5" style="height: 38px;"></td>
                                            <td ng-show="myColumnsShow[7]" style="white-space: nowrap !important;"><input placeholder="On hand..." class="filter-table-cell" ng-model="TABLES['table_ot'].param_filter_list[6]" ng-change="handleFilter('table_ot')" type="search" placeholder="" data-column="6" style="height: 38px;"></td>
                                            <td ng-show="myColumnsShow[8]" style="white-space: nowrap !important;"><input placeholder="UoM..." class="filter-table-cell" ng-model="TABLES['table_ot'].param_filter_list[7]" ng-change="handleFilter('table_ot')" type="search" placeholder="" data-column="7" style="height: 38px;"></td>
                                            <!--<td ng-show="myColumnsShow[7]"><input class="filter-table-cell" ng-model="TABLES['table_ot'].param_filter_list[8]" ng-change="handleFilter('table_ot')" type="search" placeholder="" data-column="8" style="height: 38px;"></td>-->

                                            <td ng-show="myColumnsShow[9]" style="white-space: nowrap !important;">
                                                <date-picker-filter date-start="DatetimeRange1.dateStart" date-end="DatetimeRange1.dateEnd"
                                                table="DatetimeRange1.Table"
                                                column="DatetimeRange1.Column"
                                                scope-controller="DatetimeRange1.Scope">
                                                </date-picker-filter>
                                            </td>
                                            <td ng-show="myColumnsShow[10]" style="white-space: nowrap !important;"><input placeholder="Created by..." class="filter-table-cell" ng-model="TABLES['table_ot'].param_filter_list[9]" ng-change="handleFilter('table_ot')" type="search" placeholder="" data-column="9" style="height: 38px;"></td>
                                            <td ng-show="myColumnsShow[11]" style="white-space: nowrap !important;">
                                                <date-picker-filter date-start="DatetimeRange2.dateStart" date-end="DatetimeRange2.dateEnd"
                                                                        table="DatetimeRange2.Table"
                                                                        column=DatetimeRange2.Column
                                                                        scope-controller="DatetimeRange2.Scope">
                                                </date-picker-filter>
                                            </td>
                                            <td ng-show="myColumnsShow[12]" style="white-space: nowrap !important;"><input placeholder="Updated by..." class="filter-table-cell" ng-model="TABLES['table_ot'].param_filter_list[11]" ng-change="handleFilter('table_ot')" type="search" placeholder="" data-column="11" style="height: 38px;"></td>

                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr ng-repeat="ot in details"  on-last-repeat class="hoverRow" ng-click="showDetail(ot.id)">
                                            <td><input id="{{ot.id}}" type="checkbox" class="ts_checkbox custom-table-border" data-md-icheck icheck ng-model="row_select"></td>
                                            <td ng-show="myColumnsShow[0]" >
                                                <get-attr-by-id-tooltip url="urlProduct" value="ot.productId" attr="attrName"></get-attr-by-id-tooltip>
                                            </td>
                                            <td ng-show="myColumnsShow[1]" >
                                                <get-attr-by-id url="urlProduct" value="ot.productId" attr="attrName"></get-attr-by-id><!--
                                                --><get-attr-by-id url="urlProductManufacturerName" value="ot.manId" attr="attrProductManufacturerCode"></get-attr-by-id>
                                            </td>
                                            <td ng-show="myColumnsShow[2]" >
                                                {{ot.manPn}}
                                            </td>
                                            <td ng-show="myColumnsShow[3]" >
                                                <get-attr-by-id-tooltip url="urlLocationName" value="ot.locationId" attr="attrCompleteName"></get-attr-by-id-tooltip>
                                            </td>
                                            <td ng-show="myColumnsShow[4]">
                                                <get-attr-by-id-tooltip url="urlLot" value="ot.lotId" attr="attrLotNumber"></get-attr-by-id-tooltip>
                                            </td>

                                            <td ng-show="myColumnsShow[5]" >
                                                <div>
                                                    <get-attr-by-id-tooltip url="urlPackage" value="ot.packageId" attr="attrPackageNumber"></get-attr-by-id-tooltip>
                                                </div>

                                            </td>

                                            <td ng-show="myColumnsShow[6]" style="text-align: right">{{ot.reserved}}</td>
                                            <td ng-show="myColumnsShow[7]" style="text-align: right">{{ot.onHand}}</td>
                                            <td ng-show="myColumnsShow[8]" >{{ot.uomName}}</td>

                                            <td ng-show="myColumnsShow[9]" >{{ot.created|date: 'dd-MM-yyyy HH:mm:ss'}}</td>
                                            <td ng-show="myColumnsShow[10]" >
                                                <get-attr-by-key-hyperlink url="CbxCreatedBy.url" key="CbxCreatedBy.key" value="ot.createdBy" attr="CbxCreatedBy.attr" prefix="CbxCreatedBy.prefix" suffix="CbxCreatedBy.suffix"></get-attr-by-key-hyperlink>
                                            </td>
                                            <td ng-show="myColumnsShow[11]" >{{ot.updated|date: 'dd-MM-yyyy HH:mm:ss'}}</td>
                                            <td ng-show="myColumnsShow[12]" >
                                                <get-attr-by-key-hyperlink url="CbxCreatedBy.url" key="CbxCreatedBy.key" value="ot.updatedBy" attr="CbxCreatedBy.attr" prefix="CbxCreatedBy.prefix" suffix="CbxCreatedBy.suffix"></get-attr-by-key-hyperlink>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                        <a id="linkToDetail" ui-sref="stock-quantity-detail({id: detailId })" ng-hide="true"></a>
                    </div>
                    <div class="ts_pager" id="table_ot_pager">
                                    <ul class="uk-pagination ts_pager">
                                        <li ng-click="selectPageClickHandle()" data-uk-tooltip title="{{selectPage}}">
                                            <input ng-change="selectPageHandle('table_ot')" id="rd_selectize_page" type="text"
                                                   config="TABLES['table_ot'].selectize_page_config" options="TABLES['table_ot'].selectize_page_options"
                                                   ng-model="TABLES['table_ot'].selectize_page" name="TABLES['table_ot'].selectize_page" selectize>
                                        </li>
                                        <li><a href="javascript:void(0)" class="firstPage" ng-click="handleFirstPage('table_ot')"><i class="uk-icon-angle-double-left"></i></a></li>
                                        <li><a href="javascript:void(0)" class="prevPage" ng-click="handlePreviousPage('table_ot')"><i class="uk-icon-angle-left"></i></a></li>
                                        <li><span class="pageDisplay">1-20/50</span></li>
                                        <li><a href="javascript:void(0)" class="nextPage" ng-click="handleNextPage('table_ot')"><i class="uk-icon-angle-right"></i></a></li>
                                        <li><a href="javascript:void(0)" class="lastPage"ng-click="handleLastPage('table_ot')"><i class="uk-icon-angle-double-right"></i></a></li>
                                        <li data-uk-tooltip title="{{pageSize}}">
                                            <input ng-change="selectPageNumHandle('table_ot')" id="rd_selectize_pageNum" type="text"
                                                   config="TABLES['table_ot'].selectize_pageNum_config" options="TABLES['table_ot'].selectize_pageNum_options"
                                                   ng-model="TABLES['table_ot'].selectize_pageNum" name="TABLES['table_ot'].selectize_pageNum" selectize>
                                        </li>
                                    </ul>
                                </div>
                    <br/>
                </div>
            </div>
        </div>

    </div>
</div>

