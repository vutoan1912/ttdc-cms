"use strict";angular.module("NgSwitchery",[]).directive("uiSwitch",["$window","$timeout","$log","$parse",function($window,$timeout,$log,$parse){function hex2rgba(hex,opacity){return hex=hex.replace("#",""),"rgba("+parseInt(hex.substring(0,2),16)+","+parseInt(hex.substring(2,4),16)+","+parseInt(hex.substring(4,6),16)+","+opacity/100+")"}return{require:"ngModel",restrict:"AE",scope:{initValue:"=ngModel"},link:function(scope,elem,attrs,ngModel){function initializeSwitch(init){$timeout(function(){init&&(switcher=new $window.Switchery(elem[0],options));var element=switcher.element;element.checked=scope.initValue,switcher.setPosition(!1),element.addEventListener("change",function(evt){scope.$apply(function(){ngModel.$setViewValue(element.checked)})})},0)}if(!ngModel)return!1;var switcher,options={color:attrs.color?hex2rgba(attrs.color,50):hex2rgba("#009688",50),jackColor:attrs.color?hex2rgba(attrs.color,100):hex2rgba("#009688",100),secondaryColor:attrs.secondaryColor?hex2rgba(attrs.secondaryColor,50):"rgba(0, 0, 0,0.26)",jackSecondaryColor:attrs.secondaryColor?hex2rgba(attrs.secondaryColor,100):"#fafafa",className:attrs.class};initializeSwitch(!0),scope.$watch(function(){return $(elem).attr("disabled")},function(disabled){switcher&&(disabled?switcher.disable():switcher.enable())}),scope.$watch("initValue",function(newValue,oldValue){initializeSwitch(!1)})}}}]);